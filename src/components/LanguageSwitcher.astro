---
const currentPath = Astro.url.pathname;

// Determine if we're on English or Spanish page
// Root (/) and /es/ are both Spanish, /en/ is English
const isEnglish = currentPath.startsWith('/en');
const currentLocale = isEnglish ? 'en' : 'es';

// Create the alternate URL
let alternatePath: string;
if (isEnglish) {
	// From English go to root (Spanish)
	if (currentPath === '/en' || currentPath === '/en/') {
		alternatePath = '/';
	} else {
		alternatePath = currentPath.replace('/en/', '/');
	}
} else {
	// From Spanish (root or /es/) go to English
	if (currentPath === '/' || currentPath === '/es' || currentPath === '/es/') {
		alternatePath = '/en/';
	} else if (currentPath.startsWith('/es/')) {
		alternatePath = currentPath.replace('/es/', '/en/');
	} else {
		alternatePath = '/en' + currentPath;
	}
}
---

<a href={alternatePath} class="lang-link">
	{currentLocale === 'en' ? 'Espa√±ol' : 'English'}
</a>

<style>
	.lang-link {
		color: var(--text-light);
		text-decoration: none;
		font-size: 0.9375rem;
		transition: color 0.2s;
	}
	
	.lang-link:hover {
		color: var(--text-dark);
	}
</style>
